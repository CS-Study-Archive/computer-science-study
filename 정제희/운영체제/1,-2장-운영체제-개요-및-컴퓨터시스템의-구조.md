영상: [운영체제](http://www.kocw.net/home/search/kemView.do?kemId=1046323)

## [1 운영체제 개요](https://core.ewha.ac.kr/publicview/C0101020140307151724641842?vmode=f)

### 운영 체제란?

운영체제(Operating System)는 컴퓨터 시스템의 하드웨어, 소프트웨어적인 자원들을 효율적으로 운영 및 관리함으로써 사용자가 컴퓨터를 편리하고, 효과적으로 사용할 수 있도록 하는 시스템 소프트웨어. 컴퓨터 하드웨어 바로 위에 설치되어 사용자 및 다른 소프트웨어와 하드웨어를 연결하는 소프트웨어 계층 즉, 중개자 역할을 해주는 프로그램.



### 운영 체체의 목적

1. **자원관리**
   컴퓨터 시스템 자원 효율적 관리
   (시스템 자원 - CPU, Memory, I/O장치와 같은 하드웨어 자원과 프로세스, 파일 메시지 등의 소프트웨어 자원)
2. **자원 보호**
   프로그램이나 다른 사용자가 데이터를 삭제하거나 중요 파일에 접근하지 못하게 컴퓨터 자원들 보호
3. **인터페이스 제공**
   하드웨어 인터페이스와 사용자 인터페이스 제공하여 편리하게 사용하도록 지원



| **응답시간 (Turnaround Time)** | **작업 의로 후 시스템에서 결과가 얻어질 때까지의 시간**      |
| ------------------------------ | ------------------------------------------------------------ |
| **처리능력 (Throughput)**      | **시스템의 생산성을 나태내는 단위. 일정시간 동안 처리하는 일의 양** |
| **사용 가능도(Availability)**  | **시스템을 얼마나 빠르게 사용할 수 있는가의 정도**           |
| **신뢰도 (Reliability)**       | **주어진 문제를 얼마나 정확하게 처리하는가의 정도**          |



### 운영 체제의 분류

**일괄처리 시스템(Batch processing system)**

유사한 작업들끼리 일정량 또는 일정 시간 묶어서 처리하는 방식. 컴퓨터 시스템을 효율적으로 사용할 수 있지만 하나의 작업이 모든 자원을 독점하므로 CPU 유휴 시간이 줄어듦
ex) 초기 Punch Card 처리 시스템, ORM카드 등등

**다중 프로그래밍 시스템(Multi programming system)**

하나의 CPU와 주기억 장치를 이용하여 여러 개의 프로그램을 동시에 처리하는 방식. CPU와 대화하면서 처리가 가능하여 CPU 사용률과 처리량이 증가

**시분할 시스템(Time sharing system)**

시간을 분할하여 여러 사용자들에게 컴퓨터 자원을 번갈아가며 할당하면 사용자는 자신이 컴퓨터를 독점하고 있다는 느낌을 주게 됨.

**실시간 시스템(Real-Time system)**

단말기의 요청을 즉시 처리하여 결과를 반환하는 시스템.
ex) 원자로 / 공장 제어, 미사일, 반도체 장비, 로봇 제어와

**다중처리 시스템(Multi-processing system)**

여러 대의 CPU와 하나의 주기억장치를 이용하여 여러 개의 프로그램을 동시에 처리하는 방식. 단일 운영체제에 의해 관리되며, 하나의 CPU가 고장 나더라도 시스템의 신뢰성과 안정성을 보장할 수 있음

**분산 컴퓨팅(Distributed computing)**

넷상으로 연결된 여러 대의 컴퓨터들의 처리 능력을 이용하여 복잡한 계산 문제를 해결하려는 분산 처리 모델



### 몇 가지 용어

- multitasking
- multiprogramming
- time sharing
- multiprocess



### 운영 체제의 예

#### **1. Windows**

MS사에서 개발한 컴퓨터용 운영체제. 데스크톱 OS 중 가장 많은 점유율을 차지합니다. 점유율이 높은 만큼 사용자에게 최적화가 가장 잘되어있는 운영체제이지만 개발자를 위한 환경은 부족한 부분이 많아 개발을 할 때는 잘 사용하지 않습니다.

#### **2. Linux**

리누스 토르발스가 커뮤니티 주체로 개발한 컴퓨터 운영체제입니다.
다중 사용자, 다중 작업, 다중 스레드를 지원하는 네트워크 운영체제이며 무료 오픈소스입니다.

#### **3. Unix**

70년대 초 벨 연구소 직원 켄 톰슨, 데니스 리치, 더글러스 매클로이 등이 개발.
멀티태스킹과 다중 사용자 방식의 시분할 운영체제이고 현대적 컴퓨터 대부분의 운영체제의 원형이 된 운영체제라고 볼 수 있습니다. 서버 운영에 필수적인 CLI에 특화되어 있어 서버 시장에서 인기가 많습니다.



### 운영 체제의 구조

- CPU스케줄링
- 메모리고나리
- 파일관리
- 입출력관리



## [2 시스템 구조 및 프로그램의 실행 Part-1](https://core.ewha.ac.kr/publicview/C0101020140311132925816476?vmode=f)

### 컴퓨터 시스템 구조

- computer

  - CPU
  - memory

- I/O device

  - disk

  

### Mode bit

사용자 프로그램의 잘못된 수행으로 다른 프로그램 및 운영체제에 피해가 가지 않도록 하기 위한 보호장치

1: 사용자 모드: 사용자의 프로그램을 수행한다.
0: 모니터 모드: OS 코드를 수행한다.



### Timer

특정 프로그램이 시스템을 독점하는 것을 막기위해 만들어졌다.

- 정해진 시간이 프르면 프로그램이 소유하고 있던 제어권을 다시 cpu에게 반납이 되도록 인터럽트를 발생시킨다.
- 타이머는 매 클럭마다 1씩 감소한다.
- 타이머 값이 0이 되면 타이머 인터럽트를 발생시킨다.

타이머는 time sharing을 구현하기 위해 널리 이용이 된다.



### Device Controller

I/O장치를 관리하는 일종의 작은 CPU이다. (하드웨어)

- 제어정보를 위해 컨트롤 레지스터, 상태 레지스터를 소유하고 있다.
- 실제 데이터를 저장하는 로컬 버퍼를 가졌다.(일종의 데이터 레지스터)
- I/O는 실제 디바이스와 로컬 버퍼 사이에서 일어난다.
- 디바이스 컨트롤러는 I/O가 끝났을 경우 인터럽트로 cpu에 그 사실을 알린다.



### [입출력과 인터럽트 (Input-Output and Interrupt)](/컴퓨터-구조/5장-기본-컴퓨터의-구조와-설계-Part2/입출력과-인터럽트.md)

### 인터럽트

인터럽트 당한 시점의 레지스터와 프로그램 카운터를 저장한 후 cpu의 제어를 인터럽트 처리 루틴에 넘긴다.

인터럽트는 넓게 하드웨어 인터럽트와 트랩으로 나뉘는데
하드웨어 인터럽트는 하드웨어가 발생시긴 인터럽트를 뜻하고,
트랩은 소프트웨어 인터럽트로, 프로그램이 오류를 범한 경우의 익셉션과 프로그램이 커널을 호출하는 경우인 시스템콜 두가지가 있다.

### 시스템 콜 (System Call)

사용자 프로그램이 운영체제의 서비스를 받기 위해 커널 함수를 호출하는 것



## [2 시스템 구조 및 프로그램의 실행 Part-2](https://core.ewha.ac.kr/publicview/C0101020140314151238067290?vmode=f)

### 동기식 입출력과 비동기식 입출력

#### 동기식 입출력 (synchronous I/O)

- I/O 요청 후 입출력 작업이 완료된 후에야 제어가 사용자 프로그램에 넘어가는 방식을 말한다.

구현방법

I/O이 끝날때까지 cpu를 낭비시킨다.

- 매시점 하나의 I/O만 일어날 수 있음

1. I/O가 완료될 때까지 해당 프로그램에게서 cpu를 뺐는다.
2. I/O처리를 기다리는 줄에 그 프로그램을 줄세운다.
3. 다른 프로그램에게 cpu를 준다.



#### 비동기식 입출력 (asynchronous I/O)

I/O가 시작된 휴 입출력 작업이 끝나기를 기다리지 않고 제어가 사용자 프로그램에 즉시 넘어가는 것을 말한다.

동기/비동기 두 경우 모두 I/O 완료는 인터럽트로 알려준다.



### DMA (Direct Memory Access)

DMA cpu의 오버헤드를 막기위해, 메모리를 접근할 수 있게 만든 컨트롤러

- 빠른 입출력 장치를 메모리에 가꺄ㅏ운 속도로 처리하기 위해 사용한다.
- cpu의 중재 없이 디바이스 컨트롤러가 디바이스의 버퍼 스토리지의 내용을 메모리에 블록 단위로 직접 전송한다.
- 바이트 단위가 아니라 블록단위로 인터럽트를 발생시킨다.



### 서로 다른 입출력 명령어

- 메모리를 접근하는 instruction, I/O를 하기위한 instrunction이 따로 있음(왼)
- 메모리주소에 연장주소를 붙여서 100번지 ==> 메모리 접근, 1000번지 ==> I/O접근 이런식으로 정의한게 **Memory Mapped I/O** 라고 한다.



### 저장장치 계층 구조

- [12장 메모리 구조](/컴퓨터-구조/12장-메모리-구조.md) 

1. CPU
2. Register
3. 캐시 메모리
4. 메인메모리
5. 하드디스크/ 마그네틱 테이프 ( Secondary )

**위로갈수록 비싸고, 빠르다, 휘발성이다, CPU가 직접 접근할 수 있다.**



### 프로그램의 실행 (메모리 load)

- 프로그램은 실행파일 형태로 파일시스템에 저장되어 있는데, 실행시키면 메모리에 올라가서 프로세스가 된다.
- 물리메모리에 바로올라가는 건 아니고, 중간에 가상메모리 라는 단계를 거친다.
- 프로그램만의 독자적인 주소공간이 생성된다. (0번지부터)
- 코드, 데이터, 스택 영역으로 구성된다.
- 코드 : 기계어 코드, 데이터: 전역변수, 스택: 함수를 호출하거나 리턴할때 데이터를 쌓고, 꺼내고 하는 용도로 사용하는 영역.
- 이걸 물리메모리에 올려서 실행시킨다.
- 커널은 메모리에 항상 상주해 있지만, 프로그램은 실행시키면 메모리에 올라갔다가 종료하면 사라진다.
- 프로그램 코드를 전부 메모리에 올리는게 아니라, 당장 필요한, 실행할 부분만 올린다.
- swap area는 용량의 한계로 메모리의 연장 공간으로 사용하는 용도다.



### 커널 주소 공간의 내용

- code : 시스템콜, 인터럽트 처리코드, 자원관리 코드, 편리한 서비스 제공 코드
- data : 프로그램을 관리하기 위한 자료구조 PCB
- stack : 프로세스 별 스택 존재



### 사용자 프로그램이 사용하는 함수

- 사용자 정의 함수
- 라이브러리 함수
- 커널 함수 (커널의 함수 호출 = **시스템콜**)

-